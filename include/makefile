PATH    = 
AUTHOR  = "Diego Casorran"
BASE    = execglue
GEN	= /C/fd2pragma

SFDNAME = $(PATH)SFD/$(BASE)_lib.sfd

default: all

GCCINLINEPATH = $(PATH)inline/
GCCINLINENAME = $(GCCINLINEPATH)$(BASE).h
$(GCCINLINENAME): $(SFDNAME)
	$(GEN) SPECIAL  40 INFILE $(SFDNAME) TO $(GCCINLINEPATH)

PROTOPATH = $(PATH)proto/
PROTONAME = $(PROTOPATH)$(BASE).h
$(PROTONAME): $(SFDNAME)
	$(GEN) SPECIAL  38 INFILE $(SFDNAME) TO $(PROTOPATH)

FDPATH = $(PATH)FD/
FDNAME = $(FDPATH)$(BASE)_lib.fd
$(FDNAME): $(SFDNAME)
	$(GEN) SPECIAL 110 INFILE $(SFDNAME) TO $(FDPATH) COMMENT

CLIBPATH = $(PATH)clib/
CLIBNAME = $(CLIBPATH)$(BASE)_protos.h
$(CLIBNAME): $(SFDNAME)
	$(GEN) SPECIAL 111 INFILE $(SFDNAME) TO $(CLIBPATH) COMMENT COPYRIGHT $(AUTHOR)

VECTABLE = ../execglue_68k.c
$(VECTABLE): $(SFDNAME)
	fdtrans $(SFDNAME) -c

all: $(GCCINLINENAME) $(PROTONAME) $(FDNAME) $(CLIBNAME) $(VECTABLE)

